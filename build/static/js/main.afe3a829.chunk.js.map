{"version":3,"sources":["components/commons/AuthPage/AuthPage.module.scss","components/commons/Bottom/Bottom.module.scss","services/apis/user.ts","pages/Login/Wechat/Wechat.module.scss","components/commons/Header/Header.module.scss","components/commons/Loading/Loading.tsx","components/commons/AuthPage/index.tsx","components/commons/RenderRoutes.tsx","components/commons/Bottom/Bottom.tsx","components/commons/Search/index.tsx","components/commons/Header/Header.tsx","layouts/BasicLayout/index.tsx","components/bars/CenterBar/CenterBar.tsx","layouts/CenterLayout/index.tsx","components/login/LoginBar/LoginBar.tsx","pages/Login/Wechat/index.tsx","layouts/LoginLayout/index.tsx","components/commons/SystemMsg/SystemMsg.tsx","layouts/MsgLayout/index.tsx","layouts/RecruitLayout/index.tsx","layouts/DetailLayout/index.tsx","router/config.ts","router/App.tsx","serviceWorker.ts","index.tsx","utils/composeContainer.tsx","services/apis/config.ts","services/axios/index.ts","store/systemMsg.ts","layouts/LoginLayout/LoginLayout.module.scss","store/auth.ts","utils/checkStatus.ts","utils/index.ts","components/commons/Search/Search.module.scss","components/bars/CenterBar/CenterBar.module.scss","hooks/useChange.ts","hooks/useCountDown.ts","hooks/useStorage.ts","hooks/useAuth.ts","hooks/index.ts","services/axios/config.ts","layouts/BasicLayout/BasicLayout.module.scss","layouts/CenterLayout/CenterLayout.module.scss","components/login/LoginBar/LoginBar.module.scss","components/commons/SystemMsg/SystemMsg.module.scss","layouts/MsgLayout/MsgLayout.module.scss","layouts/RecruitLayout/RecruitLayout.module.scss","layouts/DetailLayout/Detail.module.scss"],"names":["module","exports","getMessage","get","config","signup","userJson","verificationCode","post","data","encodeURIComponent","JSON","stringify","login","key","password","getUserInfo","uploadUserIcon","formData","updateUser","updatePwd","mailAddr_or_Phone","getVerificationCode","antIcon","LoadingOutlined","style","fontSize","spin","LoadingPage","display","height","alignItems","justifyContent","indicator","AuthPage","history","useHistory","className","container","btnGroup","type","onClick","push","goBack","RenderRoutes","routes","isLogin","extraProps","switchProps","Array","isArray","fallback","Loading","map","route","i","redirect","path","exact","strict","from","to","render","props","requireAuth","renderChildRoutes","childRoutes","component","Bottom","wrapper","Search","showSearch","hideWrapper","show","placeholder","onSearch","value","pathname","state","enterButton","Header","useState","setShowSearch","auth","useAuth","authC","authContainer","useContainer","menu","Item","Divider","setIsLogin","clearToken","href","logo","nav","left","activeClassName","active","right","search","center","overlay","BasicLayout","children","bottom","CenterNav","CenterLayout","CenterBar","LoginNav","Wechat","form","other","wechat","SystemMsg","name","msgList","title","item","id","MsgLayout","systemMsg","systemMsgContainer","spinning","loading","RecruitLayout","DetailLayout","lazy","LoginLayout","App","token","useMount","isUndefined","useUpdateEffect","run","routesConfig","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","Provider","containers","reduceRight","Container","composeContainer","requestMethod","request","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","SIGNUP","LOGIN","_GET_USER_INFO","GET_USER_PUBLICINFO","GET_USER_VERIFICATION_CODE","UPDATE_USER_INFO","UPDATE_USER_PASSWORD","_GET_USER_NOTIFICATION","_GET_USER_CREATED_MEET_INFO","_GET_USER_RELATED_MEET","ATTEND_MEETING","FAVORITE_MEETING","QUIT_MEETING","_GET_MEETING_STATUS_COUNT","_GET_MEETING_ICON","UPLOAD_MEETING_ICON","MEETING_COUNT","ADD_MEETING_INFO","_GET_MEETING_INFO","_GET_MEETING_TYPE","_SEARCH_MEETING_CONDITION","_GET_MEETING_HOME_PAGE_DATA","d_DELETE_MEETING_FILE","_DOWNLOAD_FILE","UPLOAD_FILE","_GET_FILE_LIST","UPLOAD_USER_IMG","_GET_USER_ICON","PUBLISH_VOLUNT_ACTIVITY","SEND_VOLUNT_BROADCAST","JOIN_VOLUNTEER","ADD_GUEST","d_DELETE_GUEST","_GET_GUEST_INFO","MODIFY_GUEST_INFO","ADD_DRIVER","SHOW_ALL_DRIVERS","ASSIGN_DRIVER","errorHandler","res","code","message","opt","a","options","method","ifHandleError","ifCanceled","instance","msg","url","params","multipart","deleteFile","createContainer","setMsgList","msgListR","useRequest","manual","result","list","messages","msgid","content","isRead","isread","Auth","checkStatus","errorInfo","getTime","start","end","range","slice","target","download2","meetingId","fileName","createElement","filename","download","click","revokeObjectURL","blob","Blob","createObjectURL","useChange","initial","setValue","onChange","useCallback","e","onFocus","callback","onBlur","handleChange","bindEvent","bind","useCountdown","timer","count","setCount","timeStatus","setTimeStatus","countdown","clearInterval","setInterval","useStorage","defaultValue","keepOnWindowClosed","storage","localStorage","sessionStorage","getStorageValue","storageValue","getItem","parse","setItem","err","warn","save","prev","finalValue","clear","removeItem","undefined","setToken","axios","create","timeout","transformRequest","transformResponse","withCredentials","baseURL","interceptors","use","Object","assign","Accept","includes","qs","Promise","resolve","reject","responseType","success"],"mappings":"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","file":"static/js/main.afe3a829.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AuthPage_container__1KEF_\",\"btnGroup\":\"AuthPage_btnGroup__3NRIB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Bottom_wrapper__3Wbi1\",\"container\":\"Bottom_container__MjKhs\"};","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 关于用户相关接口\r\n */\r\n\r\nimport * as config from './config'\r\nimport { get, post } from '../axios'\r\n\r\ninterface IuserJson {\r\n  username?: string;\r\n  gender?: '男' | '女';\r\n  emailaddr?: string;\r\n  phone?: string;\r\n  password?: string\r\n}\r\n\r\nexport interface IuserMsg{\r\n  content?: string;\r\n  isread?: number;\r\n  msgid?: number;\r\n  sendfrom?: string;\r\n  sendto?: string;\r\n}\r\n\r\n/**\r\n * 获取系统消息\r\n * @returns {IuserMsg[]}\r\n */\r\nexport const getMessage = () => get(config._GET_USER_NOTIFICATION)\r\n\r\n/**\r\n * 注册\r\n * @param userJson 用户信息\r\n * @param verificationCode 验证码\r\n */\r\nexport const signup = (userJson: IuserJson, verificationCode: string) => post(config.SIGNUP, {data: {\r\n    userJson: encodeURIComponent(JSON.stringify(userJson)), verificationCode\r\n  }\r\n})\r\n\r\n/**\r\n * 登录\r\n * @param key 登录邮箱或者电话\r\n * @param password 登录密码\r\n */\r\nexport const login = (key: string, password: string) => post(config.LOGIN, { data: { key, password } })\r\n\r\n/**\r\n * 获取用户的信息\r\n */\r\nexport const getUserInfo = () => get(config._GET_USER_INFO)\r\n\r\n/**\r\n * 获取用户公开的信息\r\n * @param userId \r\n */\r\nexport const getUserPublicInfo = (userId: number) => post(config.GET_USER_PUBLICINFO, { data: { userId } })\r\n\r\n/**\r\n * 获取用户头像\r\n * @param filename 文件名\r\n */\r\nexport const getUserIcon = (filename: string) => get(config._GET_USER_ICON + filename)\r\n\r\n/**\r\n * 上传用户头像\r\n * @param img 图像formData\r\n * @param phone 用户电话\r\n */\r\nexport const uploadUserIcon = (formData: any) => {\r\n\r\n  return post(config.UPLOAD_USER_IMG, {\r\n    data:formData\r\n  }, true)\r\n}\r\n\r\n/**\r\n * 更新用户信息\r\n * @param userJson \r\n */\r\nexport const updateUser = (userJson: IuserJson) => post(config.UPDATE_USER_INFO,{\r\n    data: { userJson: encodeURIComponent(JSON.stringify(userJson)) }\r\n  })\r\n\r\n/**\r\n * 修改密码\r\n * @param mailAddr_or_Phone 用户邮箱或者电话\r\n * @param password 新密码\r\n * @param verificationCode 验证码\r\n */\r\nexport const updatePwd = (mailAddr_or_Phone: string, password: string, verificationCode: string) => post(config.UPDATE_USER_PASSWORD, { data: { mailAddr_or_Phone, password, verificationCode } })\r\n\r\n/**\r\n * 获得验证码\r\n * @param mailAddr_or_Phone 用户邮箱或者电话\r\n */\r\nexport const getVerificationCode = (mailAddr_or_Phone: string) => post(config.GET_USER_VERIFICATION_CODE, { data: { mailAddr_or_Phone } })\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Wechat_container__3eM8Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__2jlc3\",\"container\":\"Header_container__1ahfK\",\"logo\":\"Header_logo__JuMR0\",\"nav\":\"Header_nav__jovL5\",\"li\":\"Header_li__1y0DY\",\"right\":\"Header_right__2VAMd\",\"left\":\"Header_left__3yRIU\",\"active\":\"Header_active__JN-dO\",\"search\":\"Header_search__30_N3\"};","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-19\r\n * @ Modified by: zao\r\n * @ Description: 封装antd的Spin，主要用于路由懒加载的fallback\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport { Spin } from 'antd';\r\n\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n\r\n\r\nconst LoadingPage = () => (\r\n  <div style={{ display: 'flex', height: '100vh', alignItems: 'center', justifyContent: 'center' }}>\r\n    <Spin indicator={antIcon} />\r\n  </div>\r\n);\r\n\r\nexport default LoadingPage;","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 路由鉴权拦截组件\r\n */\r\n\r\nimport React, { ReactElement } from 'react'\r\nimport { Button } from 'antd'\r\n\r\nimport { useHistory } from 'react-router-dom'\r\nimport style from './AuthPage.module.scss'\r\ninterface Props {\r\n\r\n}\r\n\r\nfunction AuthPage({ }: Props): ReactElement {\r\n  const history = useHistory()\r\n  return (\r\n    <div className={style.container}>\r\n      <h2>若要访问请进行如下操作</h2>\r\n      <div className={style.btnGroup}>\r\n        <Button type='primary' onClick={() => history.push('/login')}>登陆</Button>\r\n        <Button onClick={() => history.goBack()}>取消</Button>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthPage\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 全局路由渲染\r\n */\r\n\r\nimport React, { Suspense, ReactElement } from 'react';\r\n\r\nimport * as H from 'history';\r\nimport ReactRouter, {\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\n\r\nimport LoadingPage from '@/components/commons/Loading';\r\nimport AuthPage from '@/components/commons/AuthPage'\r\n\r\nexport interface Iroute extends ReactRouter.RouteProps {\r\n  name?: string;\r\n  path: string;\r\n  requireAuth?: boolean;\r\n  redirect?: H.LocationDescriptor;\r\n  childRoutes?: Iroute[];\r\n}\r\n\r\ninterface Props {\r\n  routes: Iroute[],\r\n  isLogin: boolean,\r\n  extraProps?: any;\r\n  switchProps?: ReactRouter.SwitchProps;\r\n}\r\n\r\nconst RenderRoutes = ({ routes, isLogin, extraProps = {}, switchProps = {} }: Props): ReactElement => {\r\n  if (!Array.isArray(routes)) {\r\n    return <></>\r\n  }\r\n  return (\r\n    <Suspense fallback={<LoadingPage />}>\r\n      <Switch {...switchProps}>\r\n        {routes.map((route, i) => {\r\n          if (route.redirect) {\r\n            return (\r\n              <Redirect\r\n                key={route.path || i}\r\n                exact={route.exact}\r\n                strict={route.strict}\r\n                from={route.path}\r\n                to={route.redirect}\r\n              />\r\n            )\r\n          }\r\n          return (\r\n            <Route\r\n              key={route.path || i}\r\n              path={route.path}\r\n              exact={route.exact}\r\n              strict={route.strict}\r\n              render={(props) => {\r\n                if (route.requireAuth && !isLogin) {\r\n                  return <AuthPage />\r\n                }\r\n                let renderChildRoutes = route.childRoutes ?\r\n                  <RenderRoutes routes={route.childRoutes} isLogin={isLogin} /> : null;\r\n                if (route.component) {\r\n                  return (\r\n                    <route.component {...props} {...extraProps} route={route}>\r\n                      {renderChildRoutes}\r\n                    </route.component>\r\n                  )\r\n                }\r\n                return renderChildRoutes\r\n              }}\r\n            />\r\n          )\r\n        })}\r\n      </Switch>\r\n    </Suspense>\r\n\r\n  )\r\n}\r\n\r\nexport default RenderRoutes;\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-20\r\n * @ Modified by: zao\r\n * @ Description: 页面底部，可添加版权信息\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport style from './Bottom.module.scss';\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\n\r\nfunction Bottom({ className }: Props): ReactElement {\r\n  return (\r\n    <div className={`${style.wrapper} ${className}`}>\r\n      <div className={style.container}>@移动互联网应用工程研究中心</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Bottom\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-22\r\n * @ Modified by: zao\r\n * @ Description: 封装antd search组件\r\n * TODO: 记得添加api和逻辑\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport { Input } from 'antd';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport style from './Search.module.scss';\r\n\r\ninterface Props {\r\n  className?: string;\r\n  targetUrl?: string;\r\n  showSearch: boolean;\r\n}\r\n\r\nfunction Search({ className, showSearch }: Props): ReactElement {\r\n  const history = useHistory()\r\n  const { Search } = Input\r\n\r\n  const handleSearch = (value: string) => {\r\n    history.push({ pathname: '/search', state: { value } })\r\n  }\r\n  return (\r\n    <div className={`${className} ${showSearch ? style.wrapper : style.hideWrapper}`} >\r\n      <div className={style.container}>\r\n        <Search className={style.show} placeholder='搜索会议/时间' onSearch={handleSearch} enterButton />\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Search\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-18\r\n * @ Modified by: zao\r\n * @ Description: 全局头部导航，加入了搜索功能\r\n */\r\n\r\n import React, {\r\n  ReactElement,\r\n  useState,\r\n} from 'react';\r\n\r\n\r\nimport {\r\n  Dropdown,\r\n  Menu,\r\n} from 'antd';\r\nimport {\r\n  NavLink,\r\n  useHistory,\r\n} from 'react-router-dom';\r\n\r\nimport Search from '@/components/commons/Search'\r\nimport { useAuth } from '@/hooks';\r\nimport authContainer from '@/store/auth';\r\n\r\nimport style from './Header.module.scss';\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\n\r\nfunction Header(props: Props): ReactElement {\r\n\r\n  const [showSearch, setShowSearch] = useState(false)\r\n  const history=useHistory()\r\n  const auth = useAuth()\r\n  const authC = authContainer.useContainer()\r\n  const handleQuit = () => {\r\n    authC.setIsLogin(false)\r\n    auth.clearToken()\r\n    history.push('/login')\r\n  }\r\n  const menu: ReactElement = (\r\n    <Menu>\r\n      <Menu.Item key='0' onClick={() => history.push('/center')}>\r\n        个人资料\r\n      </Menu.Item>\r\n      <Menu.Item key='1' onClick={() => history.push('/center/favorite')}>\r\n        我的收藏\r\n      </Menu.Item>\r\n      <Menu.Item key='2' onClick={() => history.push('/center/message')}>\r\n        系统消息\r\n      </Menu.Item>\r\n      <Menu.Divider />\r\n      <Menu.Item key='3' onClick={handleQuit}>\r\n        退出登录\r\n      </Menu.Item>\r\n    </Menu>\r\n  )\r\n  return (\r\n    <div className={props.className}>\r\n      <div className={style.wrapper}>\r\n        <div className={style.container}>\r\n          {/**logo */}\r\n          <a href=\"/\" className={style.logo}\r\n          >''</a>\r\n          {/**nav */}\r\n          <nav className={style.nav}>\r\n            <div className={style.left}>\r\n              <li>\r\n                <NavLink to='/' exact activeClassName={style.active}>首页</NavLink>\r\n              </li>\r\n              <li>\r\n                <NavLink to='/publish' activeClassName={style.active}>会议发布</NavLink>\r\n              </li>\r\n              <li>\r\n              <NavLink to='/awesome' activeClassName={style.active}>精彩幻灯</NavLink>\r\n            </li>\r\n              <li>\r\n                <NavLink to='/related' activeClassName={style.active}>我的会议</NavLink>\r\n              </li>\r\n            </div>\r\n\r\n            <div className={style.right}>\r\n              {/**搜索 */}\r\n              <li className={style.search} onClick={() => setShowSearch(!showSearch)}>搜索</li>\r\n              {/**登录/个人中心 */}\r\n              {!authC.isLogin ?\r\n                (<li className={style.login} >\r\n                  <NavLink to='/login' activeClassName={style.active}>登录/注册</NavLink>\r\n                </li>)\r\n                :\r\n                (<li className={style.center}>\r\n                  <Dropdown overlay={menu}>\r\n                    <NavLink to='/center' activeClassName={style.active} >个人中心</NavLink>\r\n                  </Dropdown>\r\n                </li>)}\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      <Search showSearch={showSearch} />\r\n    </div >\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default Header\r\n\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 基础布局，包含头部，内容和尾部\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport Bottom from '@/components/commons/Bottom';\r\nimport Header from '@/components/commons/Header';\r\n\r\nimport style from './BasicLayout.module.scss';\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nfunction BasicLayout({ children }: Props): ReactElement {\r\n  return (\r\n    <div className={style.container}>\r\n      <Header />\r\n      <div className={style.children}>{children}</div>\r\n      <Bottom className={style.bottom} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BasicLayout\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-18\r\n * @ Modified by: zao\r\n * @ Description: 个人中心的导航菜单\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './CenterBar.module.scss'\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\n\r\nfunction CenterNav({ className }: Props): ReactElement {\r\n  return (\r\n    <nav className={`${className} ${style.container}`}>\r\n      <li>\r\n        <NavLink to='/center' exact activeClassName={style.active}>个人资料</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to='/center/favorite' activeClassName={style.active}>我的收藏</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to='/center/message' activeClassName={style.active}>系统消息</NavLink>\r\n      </li>\r\n    </nav >\r\n  )\r\n}\r\n\r\nexport default CenterNav","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 个人中心布局，包含侧边bar和内容\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport CenterBar from '@/components/bars/CenterBar';\r\nimport style from './CenterLayout.module.scss'\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nfunction CenterLayout({ children }: Props): ReactElement {\r\n  return (\r\n    <div className={style.container}>\r\n      <CenterBar className={style.left}/>\r\n      <div className={style.right}>{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CenterLayout\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-18\r\n * @ Modified by: zao\r\n * @ Description: 登陆注册的导航\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport style from './LoginBar.module.scss';\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\n\r\nfunction LoginNav({ className }: Props): ReactElement {\r\n  return (\r\n    <nav className={`${className} ${style.container}`}>\r\n      <li>\r\n        <NavLink to='/login' exact activeClassName={style.active}>短信登陆/注册</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to='/login/pwd' activeClassName={style.active}>密码登录</NavLink>\r\n      </li>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default LoginNav\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 微信登陆\r\n */\r\n // TODO: 暂时未做\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport style from './Wechat.module.scss';\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\n\r\nfunction Wechat(props: Props): ReactElement {\r\n  return (\r\n    <div className={`${style.container} ${props.className}`}>\r\n      微信登录\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Wechat\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 登陆布局\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport LoginNav from '@/components/login/LoginBar';\r\nimport Wechat from '@/pages/Login/Wechat';\r\n\r\nimport style from './LoginLayout.module.scss';\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nfunction BasicLayout({  children }: Props): ReactElement {\r\n  return (\r\n    <div className={style.container}>\r\n      {/**背景 */}\r\n      <div className={style.left}>\r\n      </div>\r\n      {/**主体 */}\r\n      <div className={style.right}>\r\n        <LoginNav />\r\n        <div className={style.form}>{children}</div>\r\n        <span className={style.other}>第三方登录</span>\r\n        <Wechat className={style.wechat} />\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BasicLayout\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-22\r\n * @ Modified by: zao\r\n * @ Description: 全局系统消息浮动窗口\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\nimport {useHistory} from 'react-router-dom'\r\nimport style from './SystemMsg.module.scss';\r\n\r\ninterface Props {\r\n  name: string;\r\n  msgList: { id?: number | string; title?: string; }[];\r\n}\r\n\r\nfunction SystemMsg({ name = '', msgList }: Props): ReactElement {\r\n  const history=useHistory()\r\n  return (\r\n    <div className={style.container}>\r\n      <h2 className={style.title}>{name}</h2>\r\n      <ul className={style.msgList}>\r\n        {msgList?.map(item => (\r\n          <li key={item.id} onClick={()=>history.push('/center/message')}>{item.title}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SystemMsg\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 侧边消息布局，包含内容和侧边布局\r\n */\r\n\r\nimport React, { ReactElement, useState } from 'react';\r\n\r\nimport { Spin } from 'antd'\r\nimport SystemMsg from '@/components/commons/SystemMsg';\r\nimport style from './MsgLayout.module.scss';\r\nimport systemMsgContainer from '@/store/systemMsg'\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nfunction MsgLayout({ children }: Props): ReactElement {\r\n  const systemMsg = systemMsgContainer.useContainer()\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.left}>{children}</div>\r\n      <div className={style.right}>\r\n        <Spin spinning={systemMsg.loading} >\r\n        <SystemMsg name='热门会议' msgList={systemMsg.msgList} />\r\n        <SystemMsg name='我的消息' msgList={systemMsg.msgList} />\r\n      </Spin>\r\n      </div>\r\n      \r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default MsgLayout\r\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 会议发布的侧边消息布局\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport { Spin } from 'antd'\r\nimport SystemMsg from '@/components/commons/SystemMsg';\r\nimport systemMsgContainer from '@/store/systemMsg'\r\nimport style from './RecruitLayout.module.scss';\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nfunction RecruitLayout({ children }: Props): ReactElement {\r\n  const systemMsg = systemMsgContainer.useContainer()\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.left}>{children}</div>\r\n      <div className={style.right}>\r\n        <Spin spinning={systemMsg.loading} >\r\n          <SystemMsg name='热门会议' msgList={systemMsg.msgList} />\r\n          <SystemMsg name='我的消息' msgList={systemMsg.msgList} />\r\n        </Spin>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RecruitLayout\r\n","/**\r\n * @ Description: 详细信息的侧边消息布局\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\n\r\nimport { Spin } from 'antd'\r\nimport SystemMsg from '@/components/commons/SystemMsg';\r\nimport systemMsgContainer from '@/store/systemMsg'\r\nimport style from './Detail.module.scss';\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nfunction DetailLayout({ children }: Props): ReactElement {\r\n  const systemMsg = systemMsgContainer.useContainer()\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.left}>{children}</div>\r\n      <div className={style.right}>\r\n        <Spin spinning={systemMsg.loading} >\r\n          <SystemMsg name='热门会议' msgList={systemMsg.msgList} />\r\n          <SystemMsg name='我的消息' msgList={systemMsg.msgList} />\r\n        </Spin>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DetailLayout\r\n","/** \r\n * @Author: zao\r\n * @Date: 2020-05-07 14:28:32\r\n * @LastEditors: zao\r\n * @LastEditTime: 2020-08-13 10:20:33\r\n * @Description:  路由配置文件\r\n */\r\n\r\nimport { lazy } from 'react';\r\n\r\nimport BasicLayout from '@/layouts/BasicLayout';\r\nimport CenterLayout from '@/layouts/CenterLayout';\r\nimport LoginLayout from '@/layouts/LoginLayout';\r\nimport MsgLayout from '@/layouts/MsgLayout';\r\nimport RecruitLayout from '@/layouts/RecruitLayout';\r\nimport DetailLayout from '@/layouts/DetailLayout';\r\nimport { Iroute } from '@/components/commons/RenderRoutes';\r\n\r\nconst config: Iroute[] =\r\n  [\r\n    {\r\n      path: '/',\r\n      component: BasicLayout,\r\n      childRoutes: [\r\n        {\r\n          path: '/',\r\n          exact: true,\r\n          name: '首页',\r\n          component: MsgLayout,\r\n          childRoutes: [\r\n            {\r\n              path: '/',\r\n              exact: true,\r\n              component: lazy(() => import('@/pages/Home')),\r\n            },\r\n          ]\r\n        },\r\n        //会议详情的信息，只读页面，会议信息、出席嘉宾、志愿者招募\r\n        {\r\n          path: '/info/:meetingId',\r\n          exact: true,\r\n          component: MsgLayout,\r\n          childRoutes: [\r\n            {\r\n              path: '/info/:meetingId',\r\n              exact: true,\r\n              name: '会议详情',\r\n              component: lazy(() => import('@/pages/Home/Info')),\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          path: '/file/:meetingId',\r\n          exact: true,\r\n          component: MsgLayout,\r\n          childRoutes: [\r\n            {\r\n              path: '/file/:meetingId',\r\n              exact: true,\r\n              name: '会议详情',\r\n              component: lazy(() => import('@/components/commons/File')),\r\n            }\r\n          ]\r\n        },\r\n        //和我相关的会议详情，包括住宿安排和接机安排\r\n        {\r\n          path: '/related/info/:meetingId',\r\n          exact: true,\r\n          component: MsgLayout,\r\n          childRoutes: [\r\n            {\r\n              path: '/related/info/:meetingId',\r\n              exact: true,\r\n              name: '会议详情',\r\n              component: lazy(() => import('@/pages/Related/Info'))\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          path: '/publish',\r\n          name: '会议发布',\r\n          component: RecruitLayout,\r\n          requireAuth: true,\r\n          childRoutes: [\r\n            {\r\n              path: '/publish',\r\n              exact: true,\r\n              name: '会议发布',\r\n              component: lazy(() => import('@/pages/Publish')),\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          path: '/awesome',\r\n          name: '精彩幻灯',\r\n          requireAuth: true,\r\n          component: lazy(() => import('@/pages/Awesome'))\r\n        },\r\n        {\r\n          path: '/related',\r\n          name: '与我相关',\r\n          requireAuth: true,\r\n          component: lazy(()=> import('@/pages/Related'))\r\n        },\r\n        {\r\n          path: '/source/:meetingId',\r\n          name: '导入资源',\r\n          requireAuth: true,\r\n          component: lazy(() => import('@/pages/Related/Source'))\r\n          \r\n        },\r\n        //查看嘉宾详情页面\r\n        {\r\n          path: '/detail',\r\n          name: '详情',\r\n          requireAuth: true,\r\n          component: DetailLayout,\r\n          childRoutes: [\r\n            {\r\n              path: '/detail',\r\n              name: '默认详情页面',\r\n              exact: true,\r\n              redirect: '/related',\r\n              requireAuth: true,\r\n            },\r\n            {\r\n              path: '/detail/airdetail/:meetingId',\r\n              name: '航班详情',\r\n              requireAuth: true,\r\n              component: lazy(()=> import('@/pages/Related/Detail/AirDtail'))\r\n            },{\r\n              path: '/detail/roomdetail/:meetingId',\r\n              name: '房间详情',\r\n              requireAuth: true,\r\n              component: lazy(()=> import('@/pages/Related/Detail/RoomDetail'))\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          path: '/aircraft/:meetingId',\r\n          name: '接机',\r\n          requireAuth: true,\r\n          component: lazy(() => import('@/pages/Related/Aircraft'))\r\n        },\r\n        {\r\n          path: '/accommodation/:meetingId',\r\n          name: '住宿',\r\n          requireAuth: true,\r\n          component: lazy(() => import('@/pages/Related/Accommodation'))\r\n        },\r\n        {\r\n          path: '/login',\r\n          name: '登录/注册',\r\n          component: LoginLayout,\r\n          childRoutes: [\r\n            {\r\n              path: '/login',\r\n              exact: true,\r\n              name: '短信登陆/注册',\r\n              component: lazy(() => import('@/pages/Login/Msg'))\r\n            },\r\n            {\r\n              path: '/login/pwd',\r\n              name: '密码登陆',\r\n              component: lazy(() => import('@/pages/Login/Pwd'))\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          path: '/signup',\r\n          name: '注册',\r\n          component: lazy(() => import('@/pages/Signup'))\r\n        },\r\n        {\r\n          path: '/center',\r\n          name: '个人中心',\r\n          requireAuth: true,\r\n          component: CenterLayout,\r\n          childRoutes: [\r\n            {\r\n              path: '/center',\r\n              exact: true,\r\n              name: '个人资料',\r\n              component: lazy(() => import('@/pages/Center/Info')),\r\n            },\r\n            {\r\n              path: '/center/favorite',\r\n              name: '我的收藏',\r\n              component: lazy(() => import('@/pages/Center/Favorite')),\r\n            },\r\n            {\r\n              path: '/center/message',\r\n              name: '系统消息',\r\n              component: lazy(() => import('@/pages/Center/Message')),\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          path: '/exception',\r\n          name: '异常页',\r\n          childRoutes: [\r\n            {\r\n              path: '/exception/403',\r\n              name: '403',\r\n              component: lazy(() => import('@/pages/Exception/403')),\r\n            },\r\n            {\r\n              path: '/exception/404',\r\n              name: '404',\r\n              exact: true,\r\n              component: lazy(() => import('@/pages/Exception/404')),\r\n            },\r\n            {\r\n              path: '/exception/500',\r\n              name: '500',\r\n              component: lazy(() => import('@/pages/Exception/500')),\r\n            },\r\n          ],\r\n        },\r\n        { path: '*', exact: true, redirect: '/exception/404' },\r\n      ],\r\n    },\r\n  ]\r\n\r\n\r\nexport default config;\r\n","/*\r\n * @Author: zao\r\n * @Date: 2020-05-07 14:28:32\r\n * @LastEditors: zao\r\n * @LastEditTime: 2020-08-13 10:21:25\r\n * @Description:  app\r\n */\r\nimport '@/styles/global.scss';\r\n\r\nimport React from 'react';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport RenderRoutes from '@/components/commons/RenderRoutes';\r\nimport {\r\n  useAuth,\r\n} from '@/hooks';\r\nimport authContainer from '@/store/auth';\r\nimport systemMsgContainer from '@/store/systemMsg';\r\nimport { isUndefined } from '@/utils';\r\nimport {useMount,useUpdateEffect} from '@umijs/hooks'\r\nimport routesConfig from './config';\r\n\r\nconst App = () => {\r\n  // 全局登陆校验\r\n  const auth = authContainer.useContainer()\r\n  // 右侧的信息提示\r\n  const systemMsg = systemMsgContainer.useContainer()\r\n  // 登陆后的身份token,jwt\r\n  const token = useAuth()\r\n  // 在每次打开页面就去localstorage校验是否登陆\r\n  useMount(() => {\r\n    if (!isUndefined(token.token) && token.token !== '') {\r\n      auth.setIsLogin(true)\r\n    }\r\n  })\r\n  // 当登陆状态受到外部环境改变时,比如退出登陆,此时改变状态\r\n  useUpdateEffect(() => {\r\n    if (auth.isLogin) {\r\n      systemMsg.run()\r\n    }\r\n  }, [auth.isLogin])\r\n  return (\r\n    <Router>\r\n      {/*把是否登陆注册到全局 */}\r\n      <RenderRoutes routes={routesConfig} isLogin={auth.isLogin} />\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/**\n * @Author: zao\n * @Date: 2020-05-07 14:28:21\n * @LastEditors: zao\n * @LastEditTime: 2020-08-13 10:21:49\n * @Description:  入口文件\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Router from '@/router';\nimport request from '@/services/axios/config';\nimport auth from '@/store/auth';\nimport systemMsg from '@/store/systemMsg';\nimport composeContainer from '@/utils/composeContainer';\nimport { UseAPIProvider } from '@umijs/use-request';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst Provider = composeContainer(auth, systemMsg)\n\nconst App = () => {\n  return (\n    <UseAPIProvider value={{\n      requestMethod: request\n    }}>\n      <Provider>\n        <Router />\n      </Provider>\n    </UseAPIProvider>\n\n  )\n}\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.register();\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 组合多个unstated-next container\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport { Container } from 'unstated-next';\r\n\r\nexport default function compose(...containers: any) {\r\n  return function Component(props: any) {\r\n    return containers.reduceRight((children: React.ReactChildren, Container: Container<any>) => {\r\n      return <Container.Provider>{children}</Container.Provider>\r\n    }, props.children)\r\n  }\r\n}","// 以_开头的为get请求方式，其余的为post\n\n/**\n * 用户信息处理接口\n */\nexport const SIGNUP = '/signup'; // 用户注册\nexport const LOGIN = '/login'; // 登录获取token\nexport const _GET_USER_INFO = '/info'; // 获取当前登录用户信息\nexport const GET_USER_PUBLICINFO = '/publicInfo'; // 获取用户公开信息\nexport const GET_USER_VERIFICATION_CODE = '/verificationCode'; // 获取登录验证码\nexport const UPDATE_USER_INFO = '/update'; // 修改用户信息\nexport const UPDATE_USER_PASSWORD = '/updatePwd'; // 修改密码\n\n/**\n * component\n * 获取用户通知接口\n */\nexport const _GET_USER_NOTIFICATION = '/getMessage'; // 获取用户通知操作接口\n\n/**\n * 用户与会议的交互接口\n */\nexport const _GET_USER_CREATED_MEET_INFO = '/meetPreference/'; // 获取自己会议被参加、收藏、申请志愿者的详细信息，{type}路径，2为参加，3为收藏\nexport const _GET_USER_RELATED_MEET = '/meetings/my/'; // 获取与自己相关的会议信息,{type}路径,1为创建,2为参加,3为收藏\nexport const _GET_MY_FAVORITE='/my/meet/3'\nexport const ATTEND_MEETING = '/preference/2'; // 参加会议\nexport const FAVORITE_MEETING = '/preference/3'; // 收藏会议\nexport const QUIT_MEETING = '/quit/'; //{meetingId}路径,{type}参数,2为参加，3为收藏\nexport const _GET_MEETING_STATUS_COUNT = '/statistics/'; // {types}路径，2为参加，3为收藏\n\n/**\n * 会议主题图操作接口\n */\nexport const _GET_MEETING_ICON = '/meetingIcon/'; // {meetingId}路径\nexport const UPLOAD_MEETING_ICON = '/meetingIcon/'; // {meeting}路径\n\n/**\n * 会议相关接口\n */\nexport const MEETING_COUNT = '/meeting/count'; // 会议总数\nexport const PUBLISH_MEETING = '/meeting/add'; // 发布会议\nexport const ADD_MEETING_INFO = '/meeting/put'; // 添加会议信息(文本部分)\nexport const _GET_MEETING_INFO = '/meeting/'; // {meetingId}路径,根据会议id得到会议详细信息\nexport const _GET_MEETING_TYPE = '/meetingTypes';\nexport const _SEARCH_MEETING_CONDITION = '/meetings/dy'; // 根据条件查询会议\nexport const _GET_MEETING_HOME_PAGE_DATA = '/meetings/home'; // 会议首页分页会议数据\nexport const _GET_MEETING_Time_Sort_PAGE_DATA = '/meetings/orderByStart'; // 会议首页分页会议数据\nexport const _GET_MY_MEETINGS = '/meetings/my'; // 根据id得到和我相关的会议\nexport const _GET_MY_MEETINGS_MODE = '/meetings/my/'; // {mode}路径\n\n/**\n * 会议相关文档操作接口\n */\nexport const d_DELETE_MEETING_FILE = '/file'; // 删除一个会议相关文件\nexport const _DOWNLOAD_FILE = '/file'; // 下载一个文件\nexport const UPLOAD_FILE = '/file'; // 上传一个会议相关文件\nexport const _GET_FILE_LIST = '/fileList'; // 获取会议相关的文件ID列表\nexport const UPLOAD_USER_IMG = '/uploadimg'; // 上传用户头像\nexport const _GET_USER_ICON = '/userIcon/'; // {filename}路径,文件名\n\n/**\n * 会议的资源活动相关接口\n */\nexport const PUBLISH_VOLUNT_ACTIVITY = '/addVolunt'; // 创建者发布会议相关的志愿活动\nexport const SEND_VOLUNT_BROADCAST = '/broadcast/'; //会议组织者向志愿者发送广播信息,{mettingId}路径\nexport const _VIEW_MEETING_ASSOCIATE_VOLUNTEER = '/joinVolunteer/'; // 会议发起者查看，会议-志愿关系的关联,{meetingId}路径\nexport const JOIN_VOLUNTEER = '/joinVolunteer/'; // 用户申请志愿者,{meetingId}路径\nexport const MODIFY_VOLUNT_INFO = '/volunt'; // 创建者更改会议志愿活动信息\nexport const _GET_VOLUNT_FULL_INFO = '/volunt/info'; // 获取会议志愿活动具体的工作内容信息,{meetingId}\nexport const _GET_VOLUNT_INFO = '/volunt/'; // 获取会议志愿活动信息,{meetingId}路径\nexport const _VIEW_VOLUNTEER_INFO = '/volunteer/info/'; // 会议发起者查看申请志愿者的详细信息,{meetingId}路径\nexport const REVIEW_VOLUNTEER = '/volunteerStatus/'; //会议组织者通过或拒绝志愿者请求,{meetingId}路径\n\n/**\n * 会议志愿工作接口\n */\nexport const _GET_MY_VOLUNT_ACTIVITY = '/task/my'; // 用户获取自己申请的志愿志愿者活动信息表\nexport const ADD_VOLUNT_TASKS = '/tasks/add/'; // {meetingId}路径\nexport const _GET_ALL_VOLUNT_TASKS = '/tasks/all/'; // {meetingId}路径\nexport const _GET_USER_APPLICATION_VOLUNT_FULL_INFO = '/tasks/my/all'; // 获取用户申请的志愿工作详情\n\n/**\n * 会议嘉宾操作接口\n */\nexport const ADD_GUEST = '/guest'; // 增加嘉宾信息\nexport const d_DELETE_GUEST = '/guest/'; // 会议发起者删除嘉宾,{meetingId}路径\nexport const _GET_GUEST_INFO = '/guest/'; // 获取嘉宾信息(文本),{meetingId}路径\nexport const _GET_GUEST_IMG = '/guestImg/'; // 获取嘉宾头像,{avatarUrl}路径\nexport const MODIFY_GUEST_INFO = '/updateGuest'; // 修改嘉宾信息\n\nexport const ADD_DRIVER = '/addDriver'\nexport const SHOW_ALL_DRIVERS = '/allDrivers'\nexport const ASSIGN_DRIVER='/assignDriver'\n","/**\n * @ Author: zao\n * @ Create Time: 2020-08-20 18:49:22\n * @ Modified by: zao\n * @ Description: 封装的请求方法\n */\n\nimport { message } from 'antd';\nimport { AxiosRequestConfig } from 'axios';\n\nimport instance from './config';\n\ninterface Iopt extends AxiosRequestConfig {\n  ifHandleError?: boolean; // 统一处理错误\n  ifCanceled?: boolean;\n  msg?: string;\n}\n\n// 统一处理返回200但code为负的情况\nconst errorHandler = (res: any) => {\n  if (res && res.code < 0) {\n    message.error(res.message)\n  }\n}\n\nconst request = async (opt: Iopt) => {\n  const options: Iopt = {\n    method: 'get',\n    ifHandleError: true,\n    ifCanceled: false,\n    ...opt\n  }\n  try {\n    const res = await instance(options);\n    if (options.ifHandleError) {\n      errorHandler(res)\n    }\n    return res\n  } catch (err) {\n    if (options.ifHandleError && !options.ifCanceled) {\n      message.error(err.message || err.msg || '请求失败!')\n    }\n    return err\n  }\n}\n\nexport const get = (url: string, opt?: Iopt) => {\n  return request({\n    method: 'GET',\n    url,\n    params: opt?.params,\n    headers: opt?.headers,\n    msg: opt?.msg\n  })\n}\nexport const post = (url: string, opt?: Iopt, multipart?: boolean) => {\n  let contentType: string = 'application/x-www-form-urlencoded;charset=UTF-8'\n  if (multipart) {\n    contentType = 'multipart/form-data;charset=UTF-8'\n  }\n  return request({\n    method: 'post',\n    url,\n    data: opt?.data,\n    headers: {\n      'Content-Type': contentType\n    },\n    msg: opt?.msg\n  })\n}\n\nexport const deleteFile = (url: string, opt?: Iopt) => {\n\n  return request({\n    method: 'DELETE',\n    url,\n    data: opt?.data,\n    msg: opt?.msg\n  })\n}\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 全局的系统消息\r\n */\r\n\r\nimport { useState } from 'react'\r\nimport { createContainer } from \"unstated-next\"\r\nimport { getMessage, IuserMsg } from '@/services/apis/user'\r\nimport { useRequest } from '@umijs/hooks'\r\n\r\ninterface Imsg {\r\n  content?: string;\r\n  isread?: number;\r\n  msgid?: number;\r\n  sendfrom?: number;\r\n  sendto?: number;\r\n}\r\n\r\n\r\nfunction useSystemMsg() {\r\n  const [msgList, setMsgList] = useState<{ id?: number | string, title?: string,isRead?:boolean }[]>([])\r\n  const msgListR = useRequest(getMessage, {\r\n    manual:true,\r\n    onSuccess: (result, params) => {\r\n      if (result.data) {\r\n        const list: IuserMsg[] = result.data.messages\r\n        setMsgList(list.map((item: IuserMsg) => {\r\n          return {\r\n            id: item.msgid || '',\r\n            title: item.content || '',\r\n            isRead:item.isread!==-1\r\n          }\r\n        }))\r\n      }\r\n    }\r\n  })\r\n  return {msgList, loading:msgListR.loading,run:msgListR.run}\r\n}\r\n\r\nlet systemMsg = createContainer(useSystemMsg)\r\n\r\nexport default systemMsg","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginLayout_container__FYQRt\",\"left\":\"LoginLayout_left__26a0I\",\"right\":\"LoginLayout_right__2XF6n\",\"other\":\"LoginLayout_other__JRYbQ\",\"wechat\":\"LoginLayout_wechat__3i6f1\"};","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 全局的登陆状态\r\n */\r\n\r\nimport { useState, useCallback } from 'react'\r\nimport { createContainer } from \"unstated-next\"\r\n\r\nfunction useAuth() {\r\n  const [isLogin, setIsLogin] = useState(false)\r\n  return { isLogin, setIsLogin }\r\n}\r\n\r\nlet Auth=createContainer(useAuth)\r\n\r\nexport default Auth","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 检查请求状态码\r\n */\r\n\r\nimport { AxiosResponse } from 'axios'\r\n\r\nexport interface Idata {\r\n  code: number;\r\n  massage: string;\r\n  data: any;\r\n}\r\n\r\nexport default function checkStatus(response: AxiosResponse<any>) {\r\n\r\n  const status = response.status || -1000;\r\n  if ((status >= 200 && status < 300) || status === 304) {\r\n    return response.data \r\n  } else {\r\n    let errorInfo = '';\r\n    switch (status) {\r\n      case -1:\r\n        errorInfo = '远程服务响应失败,请稍后重试';\r\n        break;\r\n      case 400:\r\n        errorInfo = '400: 错误请求';\r\n        break;\r\n      case 401:\r\n        errorInfo = '401: 访问令牌无效或已过期';\r\n        break;\r\n      case 403:\r\n        errorInfo = '403: 拒绝访问';\r\n        break;\r\n      case 404:\r\n        errorInfo = '404: 资源不存在';\r\n        break;\r\n      case 405:\r\n        errorInfo = '405: 请求方法未允许';\r\n        break;\r\n      case 408:\r\n        errorInfo = '408: 请求超时';\r\n        break;\r\n      case 500:\r\n        errorInfo = '500: 访问服务失败';\r\n        break;\r\n      case 501:\r\n        errorInfo = '501: 未实现';\r\n        break;\r\n      case 502:\r\n        errorInfo = '502: 无效网关';\r\n        break;\r\n      case 503:\r\n        errorInfo = '503: 服务不可用';\r\n        break;\r\n      default:\r\n        errorInfo = '连接错误';\r\n    }\r\n    return {\r\n      status,\r\n      msg:errorInfo\r\n    }\r\n  }\r\n}","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-20 18:49:22\r\n * @ Modified by: zao\r\n * @ Description: 一些常用的工具函数\r\n */\r\n\r\nexport { default as checkStatus } from './checkStatus'\r\n\r\n// TODO: remember to fix getTime\r\nexport function getTime(start: string, end: string, range?: boolean) {\r\n  return range ? `${start}-->${end.slice(5)}` : start\r\n}\r\n\r\nexport const getType = (target: any) => {\r\n  return Object.prototype.toString.call(target).slice(8, -1)\r\n}\r\n\r\nexport const isUndefined = (target: any) => {\r\n  return typeof (target) === 'undefined'\r\n}\r\n\r\nexport const getSnapUrl = (target: string) => {\r\n  return `/meeting-v2/${target}`\r\n}\r\n\r\nexport const download2 = (meetingId: string, fileName: string) => {\r\n  const a = document.createElement(\"a\");\r\n  const url = `http://www.ljhhhx.com:8080/meeting/file?meetingId=${meetingId}&fileName=${encodeURIComponent(fileName)}`\r\n  const filename = fileName;\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n  window.URL.revokeObjectURL(url);\r\n}\r\n\r\n/**\r\n * 下载文件\r\n * @param content 文件流\r\n * @param fileName 文件名称\r\n */\r\nexport const download = (content: any, fileName: string) => {\r\n  const blob = new Blob([content], {\r\n    type: 'application/octet-stream'\r\n  });\r\n  const a = document.createElement(\"a\");\r\n  const url = window.URL.createObjectURL(blob);\r\n  const filename = fileName;\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n  window.URL.revokeObjectURL(url);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Search_wrapper__2D896\",\"hideWrapper\":\"Search_hideWrapper__34txl\",\"container\":\"Search_container__3Pbkf\",\"show\":\"Search_show__3d52b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CenterBar_container__1JjHT\",\"active\":\"CenterBar_active__33QJ2\"};","/**\n * @ Author: zao\n * @ Create Time: 2020-08-20 18:49:22\n * @ Modified by: zao\n * @ Description: 做表单和状态的双向绑定\n */\n\nimport {\n  useCallback,\n  useState,\n} from 'react';\n\nconst useChange=<S>(initial: S | (() => S))=> {\n  const [value, setValue] = useState(initial);\n  const onChange = useCallback(e => setValue(e.target.value), []);\n  const onFocus=useCallback(\n    (callback) => {\n      callback()\n    },\n    [],\n  )\n  const onBlur=useCallback(\n    (callback) => {\n      callback()\n    },\n    [],\n  )\n  const handleChange=useCallback(\n    (callback) => {\n      callback()\n    },\n    [],\n  )\n  \n\n  return {\n    value,\n    setValue,\n    onChange:handleChange,\n    onFocus,\n    onBlur,\n    // 绑定到原生事件\n    bindEvent: {\n      onChange,\n      value\n    },\n    // 绑定到自定义组件\n    bind: {\n      onChange: setValue,\n      value\n    }\n  };\n}\n\nexport default useChange\n\n// ----------\n// EXAMPLE\n// ----------\n// function Demo() {\n//   const userName = useChange('');\n//   const password = useChange('');\n\n//   return (\n//     <div>\n//       <input {...userName.bindEvent} />\n//       <input type=\"password\" {...password.bindEvent} />\n//     </div>\n//   );\n// }\n","/**\n * @ Author: zao\n * @ Create Time: 2020-08-20 18:49:22\n * @ Modified by: zao\n * @ Description: 做倒计时倒数\n */\n// TODO: 改用ref取代state\n\nimport { useState } from 'react';\n\nconst useCountdown = (\n  initial: number\n): [number, () => void, boolean] => {\n  const [count, setCount] = useState(initial);\n  const [timeStatus, setTimeStatus] = useState(false);\n  \n  let timer: any;\n  const countdown = () => {\n    setCount(count => {\n      if (count > 0) {\n        return count-1\n      } else {\n        clearInterval(timer)\n        setTimeStatus(false)\n        return initial\n      }\n    })\n  }\n  const start = () => {\n    setTimeStatus(true)\n    timer=setInterval(countdown,1000)\n  }\n\n  return [count, start, timeStatus];\n};\n\nexport default useCountdown","/**\n * @ Author: zao\n * @ Create Time: 2020-08-20 18:49:22\n * @ Modified by: zao\n * @ Description: 管理localStorage\n */\n\nimport {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useState,\n} from 'react';\n\nconst useStorage = <T>(\n  key: string,\n  // 默认值\n  defaultValue?: T | (() => T),\n  // 是否在窗口关闭后保持数据\n  keepOnWindowClosed: boolean = true\n): [T | undefined, Dispatch<SetStateAction<T>>, () => void] => {\n  const storage = keepOnWindowClosed ? localStorage : sessionStorage;\n\n  // 尝试从Storage恢复值\n  const getStorageValue = () => {\n    try {\n      const storageValue = storage.getItem(key);\n      if (storageValue !== null) {\n        return JSON.parse(storageValue);\n      } else if (defaultValue) {\n        // 设置默认值\n        const value =\n          typeof defaultValue === 'function'\n            ? (defaultValue as () => T)()\n            : defaultValue;\n        storage.setItem(key, JSON.stringify(value));\n        return value;\n      }\n    } catch (err) {\n      console.warn(`useStorage 无法获取${key}: `, err);\n    }\n\n    return undefined;\n  };\n\n  const [value, setValue] = useState<T | undefined>(getStorageValue);\n\n  // 更新组件状态并保存到Storage\n  const save = useCallback<Dispatch<SetStateAction<T>>>(value => {\n    setValue(prev => {\n      const finalValue =\n        typeof value === 'function'\n          ? (value as (prev: T | undefined) => T)(prev)\n          : value;\n      storage.setItem(key, JSON.stringify(finalValue));\n      return finalValue;\n    });\n  }, []);\n\n  // 移除状态\n  const clear = useCallback(() => {\n    storage.removeItem(key);\n    setValue(undefined);\n  }, []);\n\n  return [value, save, clear];\n}\n\nexport default useStorage\n// // --------\n// // EXAMPLE\n// // --------\n// function Demo() {\n//   // 保存登录状态\n//   const [use, setUser, clearUser] = useStorage('user');\n//   const handleLogin = user => {\n//     setUser(user);\n//   };\n\n//   const handleLogout = () => {\n//     clearUser();\n//   };\n\n//   // ....\n// }\n\n","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-08-21 21:35:53\r\n * @ Modified by: zao\r\n * @ Description: 取全局的token,做登陆检查\r\n */\r\n\r\nimport useStorage from './useStorage'\r\n\r\nconst useAuth = () => {\r\n  const [token, setToken, clearToken] = useStorage('user_token')\r\n  return {\r\n    token,\r\n    setToken,\r\n    clearToken\r\n  };\r\n}\r\n\r\nexport default useAuth","export { default as useChange } from './useChange'\r\nexport { default as useCountDown } from './useCountDown'\r\nexport { default as useStorage } from './useStorage'\r\nexport { default as useAuth } from './useAuth'","/**\n * @ Author: zao\n * @ Create Time: 2020-08-20 18:49:22\n * @ Modified by: zao\n * @ Description: 封装的axios，做一些配置处理和请求响应拦截\n */\n\nimport axios, {\n  AxiosError,\n  AxiosInstance,\n  AxiosRequestConfig,\n  AxiosResponse,\n} from 'axios';\nimport { message } from 'antd'\nimport qs from 'qs'\nimport {checkStatus} from '@/utils'\n\nconst envUrl = process.env.REACT_APP_API_ENV\n\ninterface IReqConfig {\n  token: string;\n}\n\nconst instance: AxiosInstance = axios.create({\n  timeout: 5000,\n  transformRequest: [\n    function (data: any) {\n      return data\n    }\n  ],\n  transformResponse: [\n    function (data: any) {\n      return JSON.parse(data)\n    }\n  ],\n  headers: {\n    'Cache-Control': 'no-cache',\n    'token': ''\n  },\n  withCredentials: true,\n  baseURL: envUrl\n})\n\n/**\n * 请求拦截\n * @description 处理请求头\n */\ninstance.interceptors.request.use((config: AxiosRequestConfig) => {\n  let token = window.localStorage.getItem('user_token')\n  config.headers = Object.assign(\n    config.method === 'get'\n      ? {\n        Accept: 'application/json',\n        'Content-Type': 'application/json; charset=UTF-8',\n      }\n      : {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n      },\n    config.headers,\n\n  )\n  if (token) {\n    config.headers['token'] = JSON.parse(token)\n  }\n  if (config.method === 'post') {\n    const contentType: string = config.headers['Content-Type'];\n    if (contentType) {\n      if (contentType.includes('multipart')) {\n\n      } else if (contentType.includes('json')) {\n        config.data = JSON.stringify(config.data)\n      } else {\n        config.data = qs.stringify(config.data)\n      }\n    }\n  }\n  return Promise.resolve(config)\n}, (error: AxiosError) => {\n  return Promise.reject(error)\n})\n\n\n/**\n * 响应拦截\n * @description 处理请求错误\n */\ninstance.interceptors.response.use(\n  (response: AxiosResponse) => {\n  if (response.headers['content-type'] === 'application/octet-stream') {\n    response.config.responseType = 'blob'\n    return response\n  }\n  const { code } = response.data || {};\n  if (code < 0) {\n    message.error(response.data.message || '请求失败,请稍候重试...')\n    return Promise.resolve({})\n  } else {\n    if ((response.config as any).msg) {\n      message.success((response.config as any).msg)\n    }\n    return Promise.resolve(checkStatus(response))\n  }\n}, (error: AxiosError) => {\n  if (error.response) {\n    return Promise.reject(checkStatus(error.response))\n  } else if (error.code === 'ECONNABORTED' && error.message.indexOf('timeout') !== -1) {\n    return Promise.reject({ msg: '请求超时' });\n  } else {\n    return Promise.reject({});\n  }\n})\n\nexport default instance","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BasicLayout_container__OFVVM\",\"children\":\"BasicLayout_children__2z0xe\",\"bottom\":\"BasicLayout_bottom__BiNRw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CenterLayout_container__9K7w4\",\"right\":\"CenterLayout_right__392iP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginBar_container__Q9qLD\",\"active\":\"LoginBar_active__1Bq3s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SystemMsg_container__3io3m\",\"title\":\"SystemMsg_title__1CSvs\",\"msgList\":\"SystemMsg_msgList__23PIY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MsgLayout_container__pYVV1\",\"left\":\"MsgLayout_left__2kMkU\",\"right\":\"MsgLayout_right__mKL4x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RecruitLayout_container__23G7v\",\"left\":\"RecruitLayout_left__WWD5-\",\"right\":\"RecruitLayout_right__wGqEv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Detail_container__13TxM\",\"left\":\"Detail_left__2uRsF\",\"right\":\"Detail_right__1k4Z_\"};"],"sourceRoot":""}